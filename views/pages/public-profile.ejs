<%- include('../partials/header') %>
<div class="container">
    <div class="profile-header">
        <img src="<%= profileUser.profileImageUrl || '/images/default-avatar.png' %>" alt="<%= profileUser.username %>'s Avatar" style="width: 150px; height: 150px; border-radius: 50%; object-fit: cover;">
        <h1><%= profileUser.username %>'s Uploads</h1>
    </div>

    <section class="upload-history" style="margin-top: 2rem;">
        <% if(uploads && uploads.length > 0) { %>
            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 1.5rem;">
                <% uploads.forEach(file => { %>
                    <!-- Reusing our standard item card -->
                    <a href="/mods/<%= file._id %>" class="item-card">
                         <div class="card-image" style="background-image: url('<%= file.iconUrl %>'); ..."></div>
                         <div class="card-body">
                            <h3 class="card-title"><%= file.name %></h3>
                            <p class="card-platform"><%= file.version %></p>
                            <div class="star-rating" data-rating="<%= file.averageRating %>">
                                <!-- stars here -->
                            </div>
                        </div>
                    </a>
                <% }) %>
            </div>
        <% } else { %>
            <p style="text-align: center; padding: 2rem;"><%= profileUser.username %> hasn't uploaded any mods yet.</p>
        <% } %>
    </section>
</div>
<%- include('../partials/footer') %>